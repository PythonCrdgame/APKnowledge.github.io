<!DOCTYPE html>
<html lang="en" class="scroll-smooth" id="app">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AyurVidya â€¢ Sacred Grove</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;700&family=Inter:wght@300;400;500;600&display=swap');

    :root {
      --emerald: #10b981;
      --gold: #d4af37;
      --bg: #0f172a;
      --text: #f1f5f9;
      --card: rgba(255,255,255,0.07);
    }

    [data-theme="light"] {
      --bg: #f8fafc;
      --text: #0f172a;
      --card: rgba(0,0,0,0.05);
      --emerald: #059669;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: var(--bg);
      color: var(--text);
      transition: background 0.5s, color 0.5s;
    }

    .heading-font { font-family: 'Playfair Display', serif; }

    .hero-bg {
      background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.8)), url('https://images.unsplash.com/photo-1448376561459-dbe8868fa34d?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80') center/cover no-repeat;
    }

    [data-theme="light"] .hero-bg {
      background: linear-gradient(rgba(255,255,255,0.2), rgba(255,255,255,0.3)), url('https://images.unsplash.com/photo-1508615263227-c5fc0e877809?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80') center/cover no-repeat;
    }

    .glass {
      background: var(--card);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255,255,255,0.08);
      transition: all 0.3s;
    }

    [data-theme="light"] .glass { border-color: rgba(0,0,0,0.1); }

    .plant-card {
      transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .plant-card:hover {
      transform: translateY(-14px) scale(1.04);
      box-shadow: 0 30px 60px -15px rgba(16,185,129,0.35);
    }

    .leaf {
      position: absolute;
      font-size: 1.8rem;
      opacity: 0.12;
      pointer-events: none;
      animation: float 40s linear infinite;
    }

    @keyframes float {
      0% { transform: translateY(110vh) rotate(0deg); }
      100% { transform: translateY(-110vh) rotate(720deg); }
    }

    /* Modal & chat styles remain similar but refined */
    #modal { transition: opacity 0.3s; }
    .page { display: none; }
    .page.active { display: block; }
  </style>
</head>
<body class="min-h-screen relative overflow-x-hidden">

  <!-- Floating leaves -->
  <div id="leaves" class="fixed inset-0 pointer-events-none z-0"></div>

  <!-- Navbar -->
  <nav class="fixed top-0 w-full z-50 glass border-b border-emerald-900/30">
    <div class="max-w-7xl mx-auto px-6 py-5 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <i class="fa-solid fa-leaf text-3xl text-emerald-500"></i>
        <span class="heading-font text-3xl font-bold tracking-tight">AyurVidya</span>
      </div>
      <div class="flex items-center gap-10 text-sm font-medium">
        <button onclick="navigate('home')" class="hover:text-emerald-400 transition">Welcome</button>
        <button onclick="navigate('encyclopedia')" class="hover:text-emerald-400 transition">Encyclopedia</button>
        <button onclick="showAbout()" class="hover:text-emerald-400 transition">Wisdom</button>
        <button id="theme-toggle" onclick="toggleTheme()" 
                class="px-5 py-2.5 bg-emerald-600/90 hover:bg-emerald-500 rounded-2xl font-medium text-sm transition flex items-center gap-2 shadow-md">
          <i class="fa-solid fa-moon"></i> Dark Grove
        </button>
      </div>
    </div>
  </nav>

  <!-- Page: Home / Welcome -->
  <div id="home" class="page active pt-24">

    <!-- Hero -->
    <header class="hero-bg min-h-screen flex items-center relative">
      <div class="max-w-5xl mx-auto px-6 text-center relative z-10">
        <h1 class="heading-font text-7xl md:text-9xl font-bold text-white mb-6 tracking-tighter drop-shadow-2xl">
          Sacred Grove
        </h1>
        <p class="text-2xl md:text-3xl text-emerald-100/90 max-w-3xl mx-auto mb-12 leading-relaxed">
          Timeless Ayurvedic wisdom preserved in a living mystical forest
        </p>
        <div class="flex flex-col sm:flex-row gap-6 justify-center">
          <button onclick="navigate('encyclopedia')"
                  class="px-12 py-6 bg-emerald-500 hover:bg-emerald-400 text-black font-semibold rounded-3xl text-xl transition shadow-xl flex items-center justify-center gap-3">
            <i class="fa-solid fa-seedling text-2xl"></i> Enter Encyclopedia
          </button>
          <button onclick="showGuidedTour()"
                  class="px-12 py-6 border-2 border-emerald-400/70 text-emerald-300 hover:bg-emerald-400/20 hover:text-white font-semibold rounded-3xl text-xl transition">
            Guided Journey
          </button>
        </div>
      </div>
    </header>

    <!-- Featured -->
    <section class="py-24">
      <div class="max-w-7xl mx-auto px-6">
        <h2 class="heading-font text-6xl text-center mb-16">Guardians of the Forest</h2>
        <div id="featured-grid" class="grid grid-cols-1 md:grid-cols-3 gap-10"></div>
      </div>
    </section>

    <!-- Doshas -->
    <section class="py-24 bg-black/30">
      <div class="max-w-7xl mx-auto px-6">
        <h2 class="heading-font text-6xl text-center mb-16">Balance Your Nature</h2>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
          <div onclick="navigate('encyclopedia'); filterByDosha('All')" class="glass rounded-3xl p-10 text-center cursor-pointer hover:border-emerald-500/50 border transition group hover:scale-105">
            <div class="text-7xl mb-6">ðŸŒ³</div>
            <h3 class="text-3xl font-semibold">All</h3>
          </div>
          <!-- Vata, Pitta, Kapha similar - omitted for brevity -->
        </div>
      </div>
    </section>
  </div>

  <!-- Page: Encyclopedia -->
  <div id="encyclopedia" class="page pt-24 hidden">
    <section class="py-20">
      <div class="max-w-7xl mx-auto px-6">
        <h1 class="heading-font text-7xl text-center mb-12">The Living Library</h1>
        <div class="flex flex-col md:flex-row gap-6 justify-center mb-16">
          <input id="search" type="text" placeholder="Search plant or remedy..." onkeyup="filterPlants()"
                 class="glass px-8 py-5 rounded-3xl text-lg w-full max-w-xl focus:ring-2 focus:ring-emerald-500 outline-none"/>
          <select id="doshaFilter" onchange="filterPlants()" class="glass px-8 py-5 rounded-3xl text-lg focus:ring-2 focus:ring-emerald-500 outline-none">
            <option value="">All Doshas</option>
            <option value="Vata">Vata</option>
            <option value="Pitta">Pitta</option>
            <option value="Kapha">Kapha</option>
            <option value="Tridoshic">Tridoshic</option>
          </select>
        </div>
        <div id="plants-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-10"></div>
        <div id="no-results" class="hidden text-center py-20 text-2xl text-zinc-400">No remedy or plant found matching your search.</div>
      </div>
    </section>
  </div>

  <!-- Modal (shared across pages) -->
  <div id="modal" class="hidden fixed inset-0 bg-black/85 flex items-center justify-center z-[100] p-4 md:p-6">
    <div class="glass max-w-3xl w-full rounded-3xl overflow-hidden relative max-h-[90vh] overflow-y-auto">
      <button onclick="closeModal()" 
              class="absolute top-4 right-4 z-20 w-14 h-14 bg-black/60 hover:bg-black/80 rounded-full flex items-center justify-center text-3xl text-white shadow-xl transition">
        âœ•
      </button>
      <img id="modal-image" class="w-full h-80 md:h-96 object-cover" alt="">
      <div class="p-8 md:p-12">
        <!-- content filled by JS -->
      </div>
    </div>
  </div>

  <script>
    // â”€â”€ Theme Toggle â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function toggleTheme() {
      const current = document.documentElement.getAttribute('data-theme') || 'dark';
      const next = current === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);

      const btn = document.getElementById('theme-toggle');
      if (next === 'light') {
        btn.innerHTML = '<i class="fa-solid fa-sun"></i> Light Grove';
      } else {
        btn.innerHTML = '<i class="fa-solid fa-moon"></i> Dark Grove';
      }
    }

    // Load saved theme
    const savedTheme = localStorage.getItem('theme') || 'dark';
    document.documentElement.setAttribute('data-theme', savedTheme);
    toggleTheme(); // set initial button text

    // â”€â”€ Navigation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function navigate(pageId) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.getElementById(pageId).classList.add('active');
      window.scrollTo(0, 0);
    }

    // â”€â”€ Plant Data (updated images) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const plants = [
      {
        sanskrit: "Maá¹‡jiá¹£á¹­hÄ",
        scientific: "Rubia cordifolia",
        common: "Indian Madder",
        dosha: "Kapha-Pitta",
        effect: "K, P â†“",
        actions: "Blood purifier â€¢ Skin healer â€¢ Lymphatic support",
        description: "Queen of blood-purifying herbs in Ayurveda.",
        image: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Rubia_cordifolia_-_K%C3%B6hler%E2%80%93s_Medizinal-Pflanzen-129.jpg/800px-Rubia_cordifolia_-_K%C3%B6hler%E2%80%93s_Medizinal-Pflanzen-129.jpg"
      },
      {
        sanskrit: "AÅ›vagandhÄ",
        scientific: "Withania somnifera",
        common: "Ashwagandha",
        dosha: "Vata",
        effect: "V â†“ (Tridoshic)",
        actions: "Adaptogen â€¢ Vitality â€¢ Stress relief",
        description: "Renowned strength-builder and calmative.",
        image: "https://upload.wikimedia.org/wikipedia/commons/thumb/1/1f/Withania_somnifera1.jpg/800px-Withania_somnifera1.jpg"
      },
      {
        sanskrit: "TulasÄ«",
        scientific: "Ocimum sanctum",
        common: "Holy Basil",
        dosha: "Kapha-Vata",
        effect: "K, V â†“",
        actions: "Immunity â€¢ Respiratory â€¢ Sacred herb",
        description: "Most revered plant in Indian tradition.",
        image: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Ocimum_tenuiflorum.jpg/800px-Ocimum_tenuiflorum.jpg"
      },
      {
        sanskrit: "RÄsnÄ",
        scientific: "Pluchea lanceolata",
        common: "Rasna",
        dosha: "Kapha-Vata",
        effect: "K, V â†“",
        actions: "Anti-inflammatory â€¢ Joint support â€¢ Pain relief",
        description: "Valuable for musculoskeletal comfort.",
        image: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/Pluchea_lanceolata.jpg/800px-Pluchea_lanceolata.jpg"  // using closest reliable
      }
      // Add more as needed
    ];

    // Render functions, filterPlants(), showModal(), closeModal(), etc. remain similar
    // ... (omitted for brevity - use logic from previous versions, add no-results display)

    function filterPlants() {
      // ... existing filter logic ...
      const results = /* filtered array */;
      const grid = document.getElementById('plants-grid');
      const noRes = document.getElementById('no-results');
      grid.innerHTML = '';
      if (results.length === 0) {
        noRes.classList.remove('hidden');
      } else {
        noRes.classList.add('hidden');
        results.forEach(p => grid.appendChild(createCard(p)));
      }
    }

    // Init
    window.onload = () => {
      // create leaves, render featured, etc.
      navigate('home'); // start on home
    };
  </script>
</body>
</html>
